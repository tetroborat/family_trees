{% extends 'base_tree_view_page.html' %}
{% block content %}
<div class="container shadow" style="min-width:600px; padding-right: 50px">
    <div id="anychart-embed-rBNxDPlf" class="anychart-embed anychart-embed-rBNxDPlf">
        <script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-base.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
        <script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-sunburst.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
        <script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-exports.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
        <script src="https://cdn.anychart.com/releases/8.9.0/js/anychart-ui.min.js?hcode=a0c21fc77e1449cc86299c5faa067dc4"></script>
        <div id="ac_style_rBNxDPlf" style="display:none;" data-json="{{ sunburstJSON }}">

        </div>
        <script>(function(){
    function ac_add_to_head(el){
        var head = document.getElementsByTagName('head')[0];
        head.insertBefore(el,head.firstChild);
    }
    function ac_add_link(url){
        var el = document.createElement('link');
        el.rel='stylesheet';el.type='text/css';el.media='all';el.href=url;
        ac_add_to_head(el);
    }
    function ac_add_style(css){
        var ac_style = document.createElement('style');
        if (ac_style.styleSheet) ac_style.styleSheet.cssText = css;
        else ac_style.appendChild(document.createTextNode(css));
        ac_add_to_head(ac_style);
    }
    ac_add_link('https://cdn.anychart.com/releases/8.9.0/css/anychart-ui.min.css?hcode=a0c21fc77e1449cc86299c5faa067dc4');
    ac_add_style(document.getElementById("ac_style_rBNxDPlf").innerHTML);
    ac_add_style(".anychart-embed-rBNxDPlf{width:100%;height:100%;}");
    })();
        </script>
        <div id="sun_container" style="height: 500px"></div>
        <script>
    anychart.onDocumentReady(function () {
        var data = JSON.parse(
            document.querySelector("#ac_style_rBNxDPlf").getAttribute('data-json')
        );

        var chart = anychart.sunburst(data, "as-tree");

        chart.title().useHtml(true);
        chart.startAngle(90);
        chart.tooltip().format("{%who}");
        chart.labels().position("circular");
        chart.background().enabled(true);
        chart.background().fill("#a5bbb8 1.0");

        chart.container("sun_container");
        chart.draw();
    });

        </script>
</div>
{% endblock content %}